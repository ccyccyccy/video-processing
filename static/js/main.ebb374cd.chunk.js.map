{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["App","useState","isCustomSize","setIsCustomSize","isCustomFps","setIsCustomFps","fps","setFps","width","setWidth","height","setHeight","extension","setExtension","preset","setPreset","crfValue","setCrfValue","progress","setProgress","message","setMessage","isProcessing","setIsProcessing","file","setFile","a","console","error","ffmpeg","createFFmpeg","log","ratio","load","name","fetchFile","FS","ffmpegArguments","push","toString","outputFileName","run","data","document","createElement","url","URL","createObjectURL","Blob","buffer","href","download","body","appendChild","click","setTimeout","removeChild","window","revokeObjectURL","onDrop","useCallback","acceptedFiles","useDropzone","getRootProps","getInputProps","isDragActive","style","background","outline","outlineOffset","padding","transition","className","multiple","type","accept","xmlns","viewBox","d","cx","cy","r","fill","value","checked","onChange","event","disabled","target","valueAsNumber","min","max","id","onClick","preventDefault","handleConvert","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ebb374cd.chunk.js","sourcesContent":["import React, { useCallback, useState } from 'react';\nimport './App.css';\nimport { createFFmpeg, fetchFile } from '@ffmpeg/ffmpeg';\nimport { useDropzone } from 'react-dropzone';\n\nfunction App() {\n  const [isCustomSize, setIsCustomSize] = useState(false);\n  const [isCustomFps, setIsCustomFps] = useState(false);\n  const [fps, setFps] = useState(0);\n  const [width, setWidth] = useState(-1);\n  const [height, setHeight] = useState(-1);\n  const [extension, setExtension] = useState(\"mp4\");\n  const [preset, setPreset] = useState(\"medium\");\n  const [crfValue, setCrfValue] = useState(23);\n  const [progress, setProgress] = useState(0);\n  const [message, setMessage] = useState(\"\");\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [file, setFile] = useState<File | null>(null);\n\n\n  async function handleConvert() {\n    if (isProcessing) {\n      console.error(\"Is already processing\");\n      return;\n    }\n\n    if (!file) {\n      console.error(\"No files uploaded\");\n      return;\n    }\n\n    setIsProcessing(true);\n\n    const ffmpeg = createFFmpeg({\n      log: true,\n      progress: ({ ratio }) => {\n        setProgress(ratio);\n      },\n    });\n\n    setMessage('Loading...');\n    await ffmpeg.load();\n\n    setMessage('Transcoding...');\n    ffmpeg.FS('writeFile', file.name, await fetchFile(file));\n\n    const ffmpegArguments = ['-i', file.name];\n    if (isCustomFps) {\n      ffmpegArguments.push('-r', fps.toString());\n    }\n    if (isCustomSize) {\n      ffmpegArguments.push('-vf', `scale=${width}:${height}`);\n    }\n    const outputFileName = `output.${extension}`;\n    ffmpegArguments.push('-crf', crfValue.toString(), '-preset', preset, outputFileName);\n    console.log(ffmpegArguments);\n    await ffmpeg.run(...ffmpegArguments);\n\n    setMessage('Complete transcoding');\n    const data = ffmpeg.FS('readFile', outputFileName);\n    const a = document.createElement(\"a\");\n    const url = URL.createObjectURL(new Blob([data.buffer]));\n    a.href = url;\n    a.download = outputFileName;\n    document.body.appendChild(a);\n    a.click();\n    setTimeout(function () {\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n    }, 0);\n    setIsProcessing(false);\n  }\n\n  const onDrop = useCallback((acceptedFiles: File[]) => {\n    setFile(acceptedFiles[0]);\n  }, []);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop })\n\n  const style = {\n    // width: \"50vw\",\n    // height: \"50vh\",\n    background: isDragActive ? \"#FFFFFF\" : \"#C8DADF\",\n    outline: \"2px dashed #92B0B3\",\n    outlineOffset: isDragActive ? \"-20px\" : \"-10px\",\n    padding: \"100px 20px\",\n    transition: \"outline-offset .15s ease-in-out, background-color .15s linear\"\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"uploaderContainer\">\n        {file === null ?\n          <div {...getRootProps({ style })}>\n            <input {...getInputProps()} multiple={false} type=\"file\" accept=\"video/*,image/gif\" />\n            <div>\n              <svg className=\"boxIcon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"43\" viewBox=\"0 0 50 43\">\n                <path d=\"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z\"></path>\n              </svg>\n              <p>Choose a file or drag it here</p>\n            </div>\n          </div> :\n          <div className=\"checkmarkContainer\">\n            <svg className=\"checkmark\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 52 52\"><circle className=\"checkmark__circle\" cx=\"26\" cy=\"26\" r=\"25\" fill=\"none\" /><path className=\"checkmark__check\" fill=\"none\" d=\"M14.1 27.2l7.1 7.2 16.7-16.8\" /></svg>\n            <p>File <span className=\"tooltip\">{file.name}</span> successfully uploaded!</p>\n          </div>\n        }\n      </div>\n      <form className=\"mainForm\">\n        <div className=\"messageAndProgress\">{message} {progress !== 0 && <progress value={progress} />}</div>\n        <div className=\"fieldLabel\">FPS:</div>\n        <div className=\"fields\">\n          <label className=\"option\"> Same as source\n            <input type=\"checkbox\" checked={!isCustomFps} onChange={event => setIsCustomFps(!isCustomFps)} />\n          </label>\n          <input className=\"option\" type=\"number\" disabled={!isCustomFps} name=\"fps\" value={fps} onChange={event => setFps(event.target.valueAsNumber)} />\n        </div>\n        <div className=\"fieldLabel\">Size: </div>\n        <div className=\"fields\">\n          <label className=\"option\"> Same as source\n            <input type=\"checkbox\" checked={!isCustomSize} onChange={event => setIsCustomSize(!isCustomSize)} />\n          </label>\n          <label className=\"option\">\n            Width:\n            <input type=\"number\" disabled={!isCustomSize} name=\"width\" value={width} onChange={event => setWidth(event.target.valueAsNumber)} />\n          </label>\n          <label className=\"option\">\n            Height:\n            <input type=\"number\" disabled={!isCustomSize} name=\"height\" value={height} onChange={event => setHeight(event.target.valueAsNumber)} />\n          </label>\n          <span className=\"tooltip\">Use -1 for aspect ratio preserving scaling</span>\n        </div>\n        <div className=\"fieldLabel\">Extension: </div>\n        <div className=\"fields\">\n          <select value={extension} onChange={event => setExtension(event.target.value)}>\n            <option>mp4</option>\n            <option>mov</option>\n            <option>avi</option>\n            <option>mpeg</option>\n            <option>wmv</option>\n            <option>gif</option>\n          </select>\n        </div>\n        <div className=\"fieldLabel\">Compression preset: </div>\n        <div className=\"fields\">\n          <label className=\"option\"><input type=\"radio\" value=\"ultrafast\" checked={preset === \"ultrafast\"} onChange={event => setPreset(event.target.value)} />Ultrafast</label>\n          <label className=\"option\"><input type=\"radio\" value=\"superfast\" checked={preset === \"superfast\"} onChange={event => setPreset(event.target.value)} />Superfast</label>\n          <label className=\"option\"><input type=\"radio\" value=\"veryfast\" checked={preset === \"veryfast\"} onChange={event => setPreset(event.target.value)} />Veryfast</label>\n          <label className=\"option\"><input type=\"radio\" value=\"faster\" checked={preset === \"faster\"} onChange={event => setPreset(event.target.value)} />Faster</label>\n          <label className=\"option\"><input type=\"radio\" value=\"fast\" checked={preset === \"fast\"} onChange={event => setPreset(event.target.value)} />Fast</label>\n          <label className=\"option\"><input type=\"radio\" value=\"medium\" checked={preset === \"medium\"} onChange={event => setPreset(event.target.value)} />Medium</label>\n          <label className=\"option\"><input type=\"radio\" value=\"slow\" checked={preset === \"slow\"} onChange={event => setPreset(event.target.value)} />Slow</label>\n          <label className=\"option\"><input type=\"radio\" value=\"slower\" checked={preset === \"slower\"} onChange={event => setPreset(event.target.value)} />Slower</label>\n        </div>\n        <div className=\"fieldLabel\">CRF: </div>\n        <div className=\"fields\">\n          <input type=\"range\" name=\"CRF\" min=\"0\" max=\"51\" value={crfValue} onChange={event => setCrfValue(event.target.valueAsNumber)}></input> {crfValue} <output className=\"tooltip\">0 is loseless, 51 is worst</output>\n        </div>\n      </form>\n      <div>\n        <input id=\"convertButton\" type=\"submit\" value=\"Convert\" disabled={isProcessing} onClick={event => { event.preventDefault(); handleConvert(); }} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}