(this["webpackJsonpvideo-convert"]=this["webpackJsonpvideo-convert"]||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(1),n=c.n(s),i=c(16),r=c.n(i),l=(c(25),c(4)),o=c.n(l),u=c(5),j=c(17),b=c(3),d=(c(26),c(9)),p=c(19);var h=function(){var e=Object(s.useState)(!1),t=Object(b.a)(e,2),c=t[0],n=t[1],i=Object(s.useState)(!1),r=Object(b.a)(i,2),l=r[0],h=r[1],O=Object(s.useState)(0),m=Object(b.a)(O,2),x=m[0],v=m[1],f=Object(s.useState)(-1),g=Object(b.a)(f,2),N=g[0],k=g[1],C=Object(s.useState)(-1),w=Object(b.a)(C,2),y=w[0],F=w[1],S=Object(s.useState)("mp4"),L=Object(b.a)(S,2),B=L[0],A=L[1],R=Object(s.useState)("medium"),D=Object(b.a)(R,2),P=D[0],U=D[1],I=Object(s.useState)(23),M=Object(b.a)(I,2),T=M[0],_=M[1],z=Object(s.useState)(0),E=Object(b.a)(z,2),J=E[0],H=E[1],V=Object(s.useState)(""),W=Object(b.a)(V,2),q=W[0],G=W[1],K=Object(s.useState)(!1),Q=Object(b.a)(K,2),X=Q[0],Y=Q[1],Z=Object(s.useState)(null),$=Object(b.a)(Z,2),ee=$[0],te=$[1];function ce(){return(ce=Object(j.a)(o.a.mark((function e(){var t,a,s,n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=3;break}return console.error("Is already processing"),e.abrupt("return");case 3:if(ee){e.next=6;break}return console.error("No files uploaded"),e.abrupt("return");case 6:return Y(!0),t=Object(d.createFFmpeg)({log:!0,progress:function(e){var t=e.ratio;H(t)}}),G("Loading..."),e.next=11,t.load();case 11:return G("Transcoding..."),e.t0=t,e.t1=ee.name,e.next=16,Object(d.fetchFile)(ee);case 16:return e.t2=e.sent,e.t0.FS.call(e.t0,"writeFile",e.t1,e.t2),a=["-i",ee.name],l&&a.push("-r",x.toString()),c&&a.push("-vf","scale=".concat(N,":").concat(y)),s="output.".concat(B),a.push("-crf",T.toString(),"-preset",P,s),console.log(a),e.next=26,t.run.apply(t,a);case 26:G("Complete transcoding"),n=t.FS("readFile",s),i=document.createElement("a"),r=URL.createObjectURL(new Blob([n.buffer])),i.href=r,i.download=s,document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(r)}),0),Y(!1);case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=Object(s.useCallback)((function(e){te(e[0])}),[]),se=Object(p.a)({onDrop:ae}),ne=se.getRootProps,ie=se.getInputProps,re=se.isDragActive,le={background:re?"#FFFFFF":"#C8DADF",outline:"2px dashed #92B0B3",outlineOffset:re?"-20px":"-10px",padding:"100px 20px",transition:"outline-offset .15s ease-in-out, background-color .15s linear"};return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"uploaderContainer",children:null===ee?Object(a.jsxs)("div",Object(u.a)(Object(u.a)({},ne({style:le})),{},{children:[Object(a.jsx)("input",Object(u.a)(Object(u.a)({},ie()),{},{multiple:!1,type:"file",accept:"video/*,image/gif"})),Object(a.jsxs)("div",{children:[Object(a.jsx)("svg",{className:"boxIcon",xmlns:"http://www.w3.org/2000/svg",width:"50",height:"43",viewBox:"0 0 50 43",children:Object(a.jsx)("path",{d:"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z"})}),Object(a.jsx)("p",{children:"Choose a file or drag it here"})]})]})):Object(a.jsxs)("div",{className:"checkmarkContainer",children:[Object(a.jsxs)("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[Object(a.jsx)("circle",{className:"checkmark__circle",cx:"26",cy:"26",r:"25",fill:"none"}),Object(a.jsx)("path",{className:"checkmark__check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]}),Object(a.jsxs)("p",{children:["File ",Object(a.jsx)("span",{className:"tooltip",children:ee.name})," successfully uploaded!"]})]})}),Object(a.jsxs)("form",{className:"mainForm",children:[Object(a.jsxs)("div",{className:"messageAndProgress",children:[q," ",0!==J&&Object(a.jsx)("progress",{value:J})]}),Object(a.jsx)("div",{className:"fieldLabel",children:"FPS:"}),Object(a.jsxs)("div",{className:"fields",children:[Object(a.jsxs)("label",{className:"option",children:[" Same as source",Object(a.jsx)("input",{type:"checkbox",checked:!l,onChange:function(e){return h(!l)}})]}),Object(a.jsx)("input",{className:"option",type:"number",disabled:!l,name:"fps",value:x,onChange:function(e){return v(e.target.valueAsNumber)}})]}),Object(a.jsx)("div",{className:"fieldLabel",children:"Size: "}),Object(a.jsxs)("div",{className:"fields",children:[Object(a.jsxs)("label",{className:"option",children:[" Same as source",Object(a.jsx)("input",{type:"checkbox",checked:!c,onChange:function(e){return n(!c)}})]}),Object(a.jsxs)("label",{className:"option",children:["Width:",Object(a.jsx)("input",{type:"number",disabled:!c,name:"width",value:N,onChange:function(e){return k(e.target.valueAsNumber)}})]}),Object(a.jsxs)("label",{className:"option",children:["Height:",Object(a.jsx)("input",{type:"number",disabled:!c,name:"height",value:y,onChange:function(e){return F(e.target.valueAsNumber)}})]}),Object(a.jsx)("span",{className:"tooltip",children:"Use -1 for aspect ratio preserving scaling"})]}),Object(a.jsx)("div",{className:"fieldLabel",children:"Extension: "}),Object(a.jsx)("div",{className:"fields",children:Object(a.jsxs)("select",{value:B,onChange:function(e){return A(e.target.value)},children:[Object(a.jsx)("option",{children:"mp4"}),Object(a.jsx)("option",{children:"mov"}),Object(a.jsx)("option",{children:"avi"}),Object(a.jsx)("option",{children:"mpeg"}),Object(a.jsx)("option",{children:"wmv"}),Object(a.jsx)("option",{children:"gif"})]})}),Object(a.jsx)("div",{className:"fieldLabel",children:"Compression preset: "}),Object(a.jsxs)("div",{className:"fields",children:[Object(a.jsxs)("label",{className:"option",children:[Object(a.jsx)("input",{type:"radio",value:"ultrafast",checked:"ultrafast"===P,onChange:function(e){return U(e.target.value)}}),"Ultrafast"]}),Object(a.jsxs)("label",{className:"option",children:[Object(a.jsx)("input",{type:"radio",value:"superfast",checked:"superfast"===P,onChange:function(e){return U(e.target.value)}}),"Superfast"]}),Object(a.jsxs)("label",{className:"option",children:[Object(a.jsx)("input",{type:"radio",value:"veryfast",checked:"veryfast"===P,onChange:function(e){return U(e.target.value)}}),"Veryfast"]}),Object(a.jsxs)("label",{className:"option",children:[Object(a.jsx)("input",{type:"radio",value:"faster",checked:"faster"===P,onChange:function(e){return U(e.target.value)}}),"Faster"]}),Object(a.jsxs)("label",{className:"option",children:[Object(a.jsx)("input",{type:"radio",value:"fast",checked:"fast"===P,onChange:function(e){return U(e.target.value)}}),"Fast"]}),Object(a.jsxs)("label",{className:"option",children:[Object(a.jsx)("input",{type:"radio",value:"medium",checked:"medium"===P,onChange:function(e){return U(e.target.value)}}),"Medium"]}),Object(a.jsxs)("label",{className:"option",children:[Object(a.jsx)("input",{type:"radio",value:"slow",checked:"slow"===P,onChange:function(e){return U(e.target.value)}}),"Slow"]}),Object(a.jsxs)("label",{className:"option",children:[Object(a.jsx)("input",{type:"radio",value:"slower",checked:"slower"===P,onChange:function(e){return U(e.target.value)}}),"Slower"]})]}),Object(a.jsx)("div",{className:"fieldLabel",children:"CRF: "}),Object(a.jsxs)("div",{className:"fields",children:[Object(a.jsx)("input",{type:"range",name:"CRF",min:"0",max:"51",value:T,onChange:function(e){return _(e.target.valueAsNumber)}})," ",T," ",Object(a.jsx)("output",{className:"tooltip",children:"0 is loseless, 51 is worst"})]})]}),Object(a.jsx)("div",{children:Object(a.jsx)("input",{id:"convertButton",type:"submit",value:"Convert",disabled:X,onClick:function(e){e.preventDefault(),function(){ce.apply(this,arguments)}()}})})]})},O=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,50)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))};r.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(h,{})}),document.getElementById("root")),O()}},[[49,1,2]]]);
//# sourceMappingURL=main.ebb374cd.chunk.js.map