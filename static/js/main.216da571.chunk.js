(this["webpackJsonpvideo-convert"]=this["webpackJsonpvideo-convert"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),i=n.n(r),a=n(14),s=n.n(a),o=(n(21),n(3)),u=n.n(o),l=n(15),j=n(2),b=(n(22),n(7));var d=function(){var e=Object(r.useState)(!1),t=Object(j.a)(e,2),n=t[0],i=t[1],a=Object(r.useState)(!1),s=Object(j.a)(a,2),o=s[0],d=s[1],p=Object(r.useState)(0),h=Object(j.a)(p,2),O=h[0],f=h[1],x=Object(r.useState)(-1),v=Object(j.a)(x,2),m=v[0],g=v[1],S=Object(r.useState)(-1),C=Object(j.a)(S,2),y=C[0],k=C[1],F=Object(r.useState)("mp4"),w=Object(j.a)(F,2),L=w[0],N=w[1],U=Object(r.useState)(0),R=Object(j.a)(U,2),A=R[0],T=R[1],B=Object(r.useState)(""),E=Object(j.a)(B,2),P=E[0],D=E[1],I=Object(r.useRef)(null);function J(){return(J=Object(l.a)(u.a.mark((function e(){var t,c,r,i,a,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I.current){e.next=3;break}return console.error("Upload file element is null"),e.abrupt("return");case 3:if(I.current.files&&I.current.files[0]){e.next=6;break}return console.error("No files uploaded"),e.abrupt("return");case 6:return t=Object(b.createFFmpeg)({log:!0,progress:function(e){var t=e.ratio;T(t)}}),c=I.current.files[0],D("Loading..."),e.next=11,t.load();case 11:return D("Transcoding..."),e.t0=t,e.t1=c.name,e.next=16,Object(b.fetchFile)(c);case 16:return e.t2=e.sent,e.t0.FS.call(e.t0,"writeFile",e.t1,e.t2),r=["-i",c.name],o&&r.push("-r",O.toString()),n&&r.push("-vf","scale=".concat(m,":").concat(y)),i="output.".concat(L),r.push(i),e.next=25,t.run.apply(t,r);case 25:D("Complete transcoding"),a=t.FS("readFile",i),s=document.createElement("a"),l=URL.createObjectURL(new Blob([a.buffer])),s.href=l,s.download=i,document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(l)}),0);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("form",{children:[Object(c.jsx)("div",{children:Object(c.jsxs)("label",{children:[" Choose a video file:",Object(c.jsx)("input",{type:"file",accept:"video/*,image/gif",ref:I})]})}),P&&Object(c.jsx)("div",{children:P}),0!==A&&Object(c.jsx)("progress",{value:A}),Object(c.jsxs)("div",{children:["FPS:",Object(c.jsxs)("label",{children:[" Same as source",Object(c.jsx)("input",{type:"checkbox",checked:!o,onChange:function(e){return d(!o)}})]}),Object(c.jsx)("input",{type:"number",disabled:!o,name:"fps",value:O,onChange:function(e){return f(e.target.valueAsNumber)}})]}),Object(c.jsxs)("div",{children:["Size:",Object(c.jsxs)("label",{children:[" Same as source",Object(c.jsx)("input",{type:"checkbox",checked:!n,onChange:function(e){return i(!n)}})]}),Object(c.jsxs)("label",{children:["Width:",Object(c.jsx)("input",{type:"number",disabled:!n,name:"width",value:m,onChange:function(e){return g(e.target.valueAsNumber)}})]}),Object(c.jsxs)("label",{children:["Height:",Object(c.jsx)("input",{type:"number",disabled:!n,name:"height",value:y,onChange:function(e){return k(e.target.valueAsNumber)}})]}),Object(c.jsx)("span",{className:"tooltip",children:"Use -1 for aspect ratio preserving scaling"})]}),Object(c.jsx)("div",{children:Object(c.jsxs)("label",{children:[" Extension:",Object(c.jsxs)("select",{value:L,onChange:function(e){return N(e.target.value)},children:[Object(c.jsx)("option",{children:"mp4"}),Object(c.jsx)("option",{children:"mov"}),Object(c.jsx)("option",{children:"avi"}),Object(c.jsx)("option",{children:"mpeg"}),Object(c.jsx)("option",{children:"wmv"}),Object(c.jsx)("option",{children:"gif"})]})]})}),Object(c.jsx)("div",{children:Object(c.jsx)("input",{type:"submit",value:"Convert",onClick:function(e){e.preventDefault(),function(){J.apply(this,arguments)}()}})})]})})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(d,{})}),document.getElementById("root")),p()}},[[43,1,2]]]);
//# sourceMappingURL=main.216da571.chunk.js.map